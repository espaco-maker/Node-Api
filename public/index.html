<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<main id="main">
		</main>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.min.js"
			integrity="sha512-eVL5Lb9al9FzgR63gDs1MxcDS2wFu3loYAgjIH0+Hg38tCS8Ag62dwKyH+wzDb+QauDpEZjXbMn11blw8cbTJQ=="
			crossorigin="anonymous"
		></script>
		<script>
			const socket = io('http://localhost:3000');
			const main = document.getElementById('main');
			socket.on('new_message', data => {
				main.innerHTML += `
					<h1>${data.text}</h1>
					<div>
						<h1>${data.user.name}</h1>
						<img src="${data.user.avatar_url}" >
					</div>
				`
				console.log(data);
			});
		</script>
	</body>
</html>
